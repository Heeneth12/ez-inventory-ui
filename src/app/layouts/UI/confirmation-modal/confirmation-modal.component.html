@if (modalSvc.activeModal(); as modal) {
<div
  class="fixed inset-0 z-[100] flex items-center justify-center p-6 bg-zinc-900/30 backdrop-blur-[2px] transition-all">

  <div
    class="relative w-full max-w-[400px] bg-white rounded-lg p-8 shadow-[0_20px_50px_rgba(0,0,0,0.1)] border border-gray-50 transform transition-all scale-100 opacity-100">
    <div class="w-14 h-14 rounded-2xl flex items-center justify-center mb-6 transition-colors" [ngClass]="{
        'bg-red-50 text-red-500': modal.intent === 'danger',
        'bg-blue-50 text-blue-600': modal.intent === 'info',
        'bg-emerald-50 text-emerald-600': modal.intent === 'success',
        'bg-zinc-100 text-zinc-600': modal.intent === 'neutral'
      }">
      <lucide-icon [img]="getIcon(modal.intent)" class="w-4 h-4 text-slate-400"></lucide-icon>
    </div>

    <h2 class="text-[22px] font-bold text-zinc-900 mb-3 tracking-tight leading-snug">
      {{ modal.title }}
    </h2>
    <p class="text-zinc-500 text-[15px] leading-relaxed mb-10">
      {{ modal.message }}
    </p>

    <div class="flex items-center gap-3">
      <button (click)="modalSvc.close(false)" [disabled]="modal.isLoading"
        class="flex-1 px-4 py-3 rounded-xl border border-zinc-200 text-sm font-bold text-zinc-700 hover:bg-zinc-50 transition-all active:scale-[0.98] disabled:opacity-50">
        {{ modal.cancelLabel || 'Cancel' }}
      </button>

      <button (click)="modalSvc.close(true)" [disabled]="modal.isLoading"
        class="flex-1 px-4 py-3 rounded-xl text-sm font-bold text-white transition-all active:scale-[0.98] shadow-sm disabled:opacity-70 flex justify-center items-center"
        [ngClass]="{
          'bg-[#E5484D] hover:bg-[#D93D42]': modal.intent === 'danger',
          'bg-[#3E63DD] hover:bg-[#3451B2]': modal.intent === 'info',
          'bg-[#30A46C] hover:bg-[#298E5D]': modal.intent === 'success',
          'bg-[#11181C] hover:bg-black': modal.intent === 'neutral'
        }">
        @if (modal.isLoading) {
        <div class="w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"></div>
        } @else {
        {{ modal.confirmLabel }}
        }
      </button>
    </div>
  </div>
</div>
}