<ng-container *ngIf="isOpen$ | async">
  <div
    class="fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-40"
    (click)="close()">
  </div>

  <!-- DRAWER -->
  <div
    class="fixed inset-y-0 right-0 z-50 bg-white shadow-2xl flex flex-col transition-transform duration-300"
    [ngClass]="widthClass">

    <!-- HEADER -->
    <div class="flex items-center justify-between px-6 py-5 border-b border-gray-200 bg-white">
      <h2 class="text-lg font-bold text-slate-800">
        {{ title$ | async }}
      </h2>
      <button (click)="close()"
        class="p-2 text-gray-400 hover:text-slate-600 rounded-full">
        ✕
      </button>
    </div>

    <!-- BODY -->
    <div class="flex-1 overflow-y-auto p-6 bg-white">
      <ng-container *ngIf="content$ | async as content">

        <!-- ✅ TemplateRef -->
        <ng-container *ngIf="isTemplateRef(content)">
          <ng-container *ngTemplateOutlet="content"></ng-container>
        </ng-container>

        <!-- ✅ Component -->
        <ng-container *ngIf="isComponent(content)">
          <ng-container *ngComponentOutlet="content"></ng-container>
        </ng-container>

      </ng-container>
    </div>
  </div>
</ng-container>
