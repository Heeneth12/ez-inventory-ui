<ng-container *ngIf="isOpen$ | async">
    <div class="fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-40 transition-opacity duration-500 ease-in-out"
        (click)="close()">
    </div>
    <div class="fixed inset-y-0 right-0 z-50 bg-white shadow-2xl flex flex-col transform transition-transform duration-300 ease-[cubic-bezier(0.4,0,0.2,1)]"
        [ngClass]="widthClass || 'w-full max-w-md'">
        <!-- HEADER -->
        <div class="flex items-center justify-between px-6 py-5 border-b border-gray-100 bg-white shrink-0">
            <h2 class="text-lg font-bold text-slate-800 tracking-tight">
                {{ title$ | async }}
            </h2>
            <!-- Close Button -->
            <button (click)="close()"
                class="p-2 -mr-2 text-gray-400 hover:text-slate-600 hover:bg-gray-50 rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-slate-100">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12">
                    </path>
                </svg>
            </button>
        </div>
        <!-- BODY (Scrollable Content) -->
        <div class="flex-1 overflow-y-auto p-6 relative bg-white">
            <ng-container *ngIf="content$ | async as content">
                <ng-container *ngTemplateOutlet="content"></ng-container>
            </ng-container>
        </div>
    </div>
</ng-container>